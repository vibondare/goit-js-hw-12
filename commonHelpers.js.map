{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/img/error-icon.svg","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import simpleLightbox from 'simplelightbox';\nimport { gallery } from '../main.js';\nimport { addLoader } from '../main.js';\nimport { hideLoader } from '../main.js';\nimport { loadingMessageContainer } from '../main.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderGallery(imagesData) {\n  const data = imagesData.hits;\n\n  const markup = data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"image\" width=\"358px\" />\n        </a>\n        <ul class=\"image-properties-list\">\n            <li class=\"image-properties-list-item\">\n                <h2 class=\"property-name\">Likes</h2>\n                <p class=\"property-value\">${likes}</p>\n            </li>\n            <li class=\"image-properties-list-item\">\n                <h2 class=\"property-name\">Views</h2>\n                <p class=\"property-value\">${views}</p>\n            </li>\n            <li class=\"image-properties-list-item\">\n                <h2 class=\"property-name\">Comments</h2>\n                <p class=\"property-value\">${comments}</p>\n            </li>\n            <li class=\"image-properties-list-item\">\n                <h2 class=\"property-name\">Downloads</h2>\n                <p class=\"property-value\">${downloads}</p>\n            </li>\n        </ul>\n    </li>\n`\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n\n  const lightbox = new simpleLightbox('.gallery a', {\n    captionsData: 'alt',\n  });\n\n  hideLoader();\n}\n","export default \"__VITE_ASSET__09c89fb5__\"","import iziToast from 'izitoast';\nimport { gallery } from '../main.js';\nimport { addLoader } from '../main.js';\nimport { hideLoader } from '../main.js';\nimport { renderGallery } from './render-functions.js';\nimport { loadingMessageContainer } from '../main.js';\nimport errorIcon from '../img/error-icon.svg';\n\nlet imagesData = '';\n\nexport function getImages(link) {\n  function fetchImages() {\n    return fetch(link)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Image error!');\n        }\n\n        return response.json();\n      })\n      .catch(error => {\n        alert('Error while fetching images from pixabay!');\n      });\n  }\n\n  fetchImages(link).then(data => {\n    imagesData = data;\n\n    if (imagesData.hits.length === 0) {\n      iziToast.show({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        backgroundColor: '#B51B1B',\n        messageColor: '#FFFFFF',\n        position: 'topRight',\n        theme: 'dark',\n        iconUrl: errorIcon,\n      });\n\n      gallery.innerHTML = '';\n\n      hideLoader();\n\n      return;\n    }\n\n    renderGallery(imagesData);\n  });\n}\n","import { getImages } from './js/pixabay-api';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst searchForm = document.querySelector('.search-form');\nexport const searchInput = document.querySelector('#search-input');\nexport const gallery = document.querySelector('.gallery');\nexport const loadingMessageContainer = document.querySelector('.loading-message-container');\n\nsearchForm.addEventListener(\"submit\", submitSearch);\n\nexport function addLoader() {\n  loadingMessageContainer.classList.add(\n    'loading-message-container-is-visible'\n  );\n}\n\nexport function hideLoader() {\n  loadingMessageContainer.classList.remove(\n    'loading-message-container-is-visible'\n  );\n}\n\nfunction submitSearch(event) {\n  event.preventDefault();\n\n  if (!searchInput.value) {\n    return;\n  }\n\n  const key = '42569288-7bb99e6b1dd10eb6153443a4f';\n  const basicLink = 'https://pixabay.com/api/';\n  const q = searchInput.value;\n\n  const link = `${basicLink}?key=${key}&q=${q}&image_type='photo'&orientation='horizontal'&safesearch=true`;\n\n  addLoader();\n\n  getImages(link);\n}\n\n\n"],"names":["renderGallery","imagesData","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","simpleLightbox","hideLoader","errorIcon","getImages","link","fetchImages","response","error","data","iziToast","searchForm","searchInput","loadingMessageContainer","submitSearch","addLoader","event","key","basicLink","q"],"mappings":"6vBAQO,SAASA,EAAcC,EAAY,CAGxC,MAAMC,EAFOD,EAAW,KAGrB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,wCAE4BL,CAAa;AAAA,wBAC7BD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4CAKNC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,4CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,CAKhD,EACA,KAAK,EAAE,EAEVC,EAAQ,UAAYR,EAEH,IAAIS,EAAe,aAAc,CAChD,aAAc,KAClB,CAAG,EAEDC,GACF,CCxDA,MAAeC,EAAA,gDCQf,IAAIZ,EAAa,GAEV,SAASa,EAAUC,EAAM,CAC9B,SAASC,GAAc,CACrB,OAAO,MAAMD,CAAI,EACd,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,cAAc,EAGhC,OAAOA,EAAS,MACxB,CAAO,EACA,MAAMC,GAAS,CACd,MAAM,2CAA2C,CACzD,CAAO,CACJ,CAEDF,EAAgB,EAAE,KAAKG,GAAQ,CAG7B,GAFAlB,EAAakB,EAETlB,EAAW,KAAK,SAAW,EAAG,CAChCmB,EAAS,KAAK,CACZ,MAAO,QACP,QACE,2EACF,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,MAAO,OACP,QAASP,CACjB,CAAO,EAEDH,EAAQ,UAAY,GAEpBE,IAEA,MACD,CAEDZ,EAAcC,CAAU,CAC5B,CAAG,CACH,CC7CA,MAAMoB,EAAa,SAAS,cAAc,cAAc,EAC3CC,EAAc,SAAS,cAAc,eAAe,EACpDZ,EAAU,SAAS,cAAc,UAAU,EAC3Ca,EAA0B,SAAS,cAAc,4BAA4B,EAE1FF,EAAW,iBAAiB,SAAUG,CAAY,EAE3C,SAASC,GAAY,CAC1BF,EAAwB,UAAU,IAChC,sCACJ,CACA,CAEO,SAASX,GAAa,CAC3BW,EAAwB,UAAU,OAChC,sCACJ,CACA,CAEA,SAASC,EAAaE,EAAO,CAG3B,GAFAA,EAAM,eAAc,EAEhB,CAACJ,EAAY,MACf,OAGF,MAAMK,EAAM,qCACNC,EAAY,2BACZC,EAAIP,EAAY,MAEhBP,EAAO,GAAGa,CAAS,QAAQD,CAAG,MAAME,CAAC,+DAE3CJ,IAEAX,EAAUC,CAAI,CAChB"}